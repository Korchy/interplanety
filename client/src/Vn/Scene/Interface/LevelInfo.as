package Vn.Scene.Interface {
	// Класс LevelInfo - Указатель уровня пользователя
//-----------------------------------------------------------------------------------------------------
	import flash.events.Event;
	import Vn.Interplanety;
	import Vn.User.User;
	import Vn.Interface.Text.VnTextI;
//-----------------------------------------------------------------------------------------------------
	public class LevelInfo extends VnTextI {
//-----------------------------------------------------------------------------------------------------
// Переменные
//-----------------------------------------------------------------------------------------------------
		
//-----------------------------------------------------------------------------------------------------
// Конструктор
//-----------------------------------------------------------------------------------------------------
		public function LevelInfo() {
			// Конструктор предка
			super(180,20);
			// Конструктор
			Name = 55;
			TextColor = 0xF8D830;
			ReLoadById(51);	// level
			Vn.Interplanety.VnUser.addEventListener(User.EXP_CHANGED,ChangeCount);
		}
//-----------------------------------------------------------------------------------------------------
// Деструктор - вызывать самому, автоматически не вызывается
//-----------------------------------------------------------------------------------------------------
		override public function _delete():void {
			// Деструктор
			Vn.Interplanety.VnUser.removeEventListener(User.EXP_CHANGED,ChangeCount);
			// Деструктор предка
			super._delete();
		}
//-----------------------------------------------------------------------------------------------------
// Функции
//-----------------------------------------------------------------------------------------------------
//-----------------------------------------------------------------------------------------------------
		private function ChangeCount(e:Event):void {
			// Обновить данные
			Text = String(e.target.Level)+" ("+String(e.target.ExpCount)+"/"+String(e.target.NextLevelExp)+")";
		}
//-----------------------------------------------------------------------------------------------------
// Обработка событий
//-----------------------------------------------------------------------------------------------------
		
//-----------------------------------------------------------------------------------------------------
// Методы get/set для установки значений переменных
//-----------------------------------------------------------------------------------------------------
		
//-----------------------------------------------------------------------------------------------------
	}
}