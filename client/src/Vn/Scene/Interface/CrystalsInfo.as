package Vn.Scene.Interface {
	// Класс CrystalsInfo - Счетчик кристаллов пользователя
//-----------------------------------------------------------------------------------------------------
	import flash.events.Event;
	import Vn.Interplanety;
	import Vn.User.User;
	import Vn.Interface.Text.VnTextI;
//-----------------------------------------------------------------------------------------------------
	public class CrystalsInfo extends VnTextI {
//-----------------------------------------------------------------------------------------------------
// Переменные
//-----------------------------------------------------------------------------------------------------
		
//-----------------------------------------------------------------------------------------------------
// Конструктор
//-----------------------------------------------------------------------------------------------------
		public function CrystalsInfo() {
			// Конструктор предка
			super(150,20);
			// Конструктор
			Name = 47;
			TextColor = 0xF8D830;
			ReLoadById(30);	// crystals
			Vn.Interplanety.VnUser.addEventListener(User.CRYSTALS_CHANGED,ChangeCount);
		}
//-----------------------------------------------------------------------------------------------------
// Деструктор - вызывать самому, автоматически не вызывается
//-----------------------------------------------------------------------------------------------------
		override public function _delete():void {
			// Деструктор
			Vn.Interplanety.VnUser.removeEventListener(User.CRYSTALS_CHANGED,ChangeCount);
			// Деструктор предка
			super._delete();
		}
//-----------------------------------------------------------------------------------------------------
// Функции
//-----------------------------------------------------------------------------------------------------
		
//-----------------------------------------------------------------------------------------------------
// Обработка событий
//-----------------------------------------------------------------------------------------------------
		private function ChangeCount(e:Event):void {
			// Обновить данные
			HtmlText = e.target.CrystalsCount;
		}
//-----------------------------------------------------------------------------------------------------
// Методы get/set для установки значений переменных
//-----------------------------------------------------------------------------------------------------
		
//-----------------------------------------------------------------------------------------------------
	}
}